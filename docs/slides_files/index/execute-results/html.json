{
  "hash": "2eea01fa77f6454f6b51d592fa602907",
  "result": {
    "markdown": "---\ntitle: \"Parameterized Reporting<br> with Quarto<br> ![](images/jr-logo-quarto.webp){width=5em}\"\nauthor: \"Jadey Ryan // February 21, 2024<br>R-Ladies Abuja\"\nfooter: \"Parameterized Reporting with Quarto // [jadeyryan.quarto.pub/rladies-abuja-quarto-params/](https://jadeyryan.quarto.pub/rladies-abuja-quarto-params/)\"\nlogo: \"images/jr-logo-quarto.webp\"\nlogo-alt: \"Two hex stickers side by side with a heart joining them in the middle. Left sticker is Jadey's cat logo. Right sticker is the Quarto logo.\"\nformat: \n  revealjs: \n    width: 1600\n    height: 900  \n    theme: slides.scss\n    highlight-style: a11y\n    transition: fade\n    slide-number: true\nexecute:\n  echo: true\ndf-print: kable\n---\n\n\n## Acknowledgements\n\n::: {width=\"70%\"}\n![](images/rladies-abuja.png){.center fig-alt=\"R-Ladies Abuja Logo\"}\n:::\n\n<br>\n\n[Parameterized Reports with Quarto](https://github.com/jadeynryan/parameterized-quarto-workshop) taught by [Jadey Ryan](https://jadeyryan.com/)\n\n<br>\n\n[R/Medicine Data Cleaning 2023 Workshop](https://shannonpileggi.github.io/rmedicine-data-cleaning-2023/) taught by [Crystal Lewis](https://cghlewis.com/), [Shannon Pileggi](https://www.pipinghotdata.com/), and [Peter Higgins](https://bookdown.org/pdr_higgins/rmrwr/)\n\n<br>\n\n[ASA Traveling Courses on Quarto](https://quarto.org/docs/blog/posts/2023-12-05-asa-traveling-courses/) taught by [Mine √áetinkaya-Rundel](https://mine-cr.com/) and [Andrew Bray](https://andrewpbray.github.io/)\n\n## Disclaimer and license\n\nOpinions expressed are solely my own and do not express the views of my employer or any organizations I am associated with.\n\n<br>\n\nThis work is licensed under [Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA)](https://creativecommons.org/licenses/by-nc-sa/4.0/).\n\n\n{{< fa brands creative-commons size=2x >}} {{< fa brands creative-commons-by size=2x >}} {{< fa brands creative-commons-nc size=2x >}} {{< fa brands creative-commons-sa size=2x >}}\n\n\n\n## Jadey Ryan\n\n::: columns\n::: {.column width=\"44%\"}\nData scientist at WA Dept of Agriculture\n\nThe Coding Cats: cat & code themed merch\n\n{{< fa link size=xl >}} [jadeyryan.com](https://jadeyryan.com)\n\n{{< fa brands mastodon size=xl >}} [\\@jadeynryan](https://fosstodon.org/@jadeynryan)\n\n{{< fa brands linkedin size=xl >}} [linkedin.com/in/jadey-ryan](https://www.linkedin.com/in/jadey-ryan)\n\n{{< fa brands github size=xl >}} [jadeynryan](https://github.com/jadeynryan/)\n\n{{< fa brands etsy size=xl >}} [thecodingcats.etsy.com](https://thecodingcats.etsy.com/)\n\n![](images/mts.webp){fig-alt=\"Three snowshoe siamese cats in loaf mode. From left to right: Tai, Mai, and Skye\" style=\"border-radius:1em;margin-top:auto\"}\n:::\n \n::: {.column width=\"28%\"}\n![](images/bulk-density.jpg){fig-alt=\"Jadey collecting a bulk density soil sample in a field of wheat stubble.\" style=\"border-radius:1em;margin-top:auto\"}\n:::\n\n::: {.column width=\"28%\"}\n::: {layout-nrow=\"2\"}\n![](images/soil-sampling.jpg){style=\"border-radius:1em;margin-top:auto\" fig-alt=\"Jadey standing in a field of wheat stubble holding a 3 foot long soil sampling probe over her shoulder.\"}\n\n![](images/rangeland.jpg){fig-alt=\"Jadey standing in a grazed wildflower meadow with two colleagues collecting soil samples.\" style=\"border-radius:1em;margin-top:auto\"}\n:::\n\n{{< fa camera title=\"Photo credit\" >}} [@leslie.mmichel](https://twitter.com/leslie_mmichel)\n\n:::\n:::\n\n## Logistics\n\nLogin to Posit Cloud workspace: [**bit.ly/rladies-parameterized-quarto**](https://bit.ly/rladies-parameterized-quarto).\n\n. . .\n\nIf Posit Cloud doesn't work, download materials locally:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nusethis::use_course(\n  \"https://github.com/jadeynryan/parameterized-quarto-workshop/raw/main/exercises/exercises.zip\"\n#  ,destdir = \"___\"\n  )\n```\n:::\n\n\n. . .\n\nAsk questions in the public Zoom chat or raise hand ‚úã.\n\n. . .\n\nWorkshop structure: presentation, demos/exercises, questions to answer in üí¨ **Chat**.\n\n# üí™üèº Exercise 0 {.background-primary}\n\n<br>\n\nüí¨ **Chat**: share your name, where you're calling from, and one thing you've made that you're proud of.\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div class=\"countdown\" id=\"timer_ee6ef2c6\" data-update-every=\"1\" tabindex=\"0\" style=\"top:0;right:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">01</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n:::\n:::\n\n\n## Learning objectives\n\n::: incremental\n1.  Understand what parameterized reporting is and when it is useful.\n\n<br>\n\n2.  Learn how to convert a report into a parameterized template.\n\n<br>\n\n3.  Render all variations of the report at once using [{quarto}](https://quarto-dev.github.io/quarto-r/) and [{purrr}](https://purrr.tidyverse.org/).\n\n<br>\n\n4.  Generate multiple format outputs from the same template file with conditional content and conditional code execution.\n:::\n\n# Syntax and RStudio aside {.background-secondary}\n\n## Pipes\n\n-   2014+ magrittr pipe `%>%`\n\n-   2021+ (R $\\geq$ 4.1.0) native R pipe `|>`\n\n. . .\n\nIsabella Vel√°squez's blog post [*Understanding the native R pipe* \\|\\>](https://ivelasq.rbind.io/blog/understanding-the-r-pipe/) (2022)\n\n<br>\n\n. . .\n\n::: columns\n::: {.column width=\"50%\"}\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"|1|3-4\"}\ndo_something(arg1, arg2, arg3, ...)\n\narg1 |>  \n  do_something(arg2, arg3)\n```\n:::\n\n:::\n\n::: {.column width=\"5%\"}\n:::\n\n::: {.column width=\"45%\"}\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"|1|3-4\"}\nmean(0:10)\n\n0:10 |> \n  mean()\n```\n:::\n\n:::\n:::\n\n. . .\n\n<br>\n\nTo change shortcut to the native pipe:\n\n`Tools` ‚Üí `Global Options` ‚Üí `Code` ‚Üí `Editing` ‚Üí `Use Native Pipe Operator`\n\nWindows: `Ctrl` + `Shift` + `M` \n\nMac: `Cmd` + `Shift` + `M` \n\n::: footer\nSlide adapted from [R/Medicine Data Cleaning 2023 Workshop](https://shannonpileggi.github.io/rmedicine-data-cleaning-2023/)\n:::\n\n## Namespacing\n\n`package::function()`\n\n`dplyr::select()`\n\n. . .\n\n-   tells R explicitly to use the function `select` from the package `dplyr`\n\n-   helps avoid name conflicts (e.g., `MASS::select()`)\n\n-   does not require `library(dplyr)`\n\n. . .\n\n::: columns\n::: {.column width=\"45%\"}\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dplyr)\n\nmtcars |>  \n  select(mpg, cyl) \n```\n:::\n\n:::\n\n::: {.column width=\"5%\"}\n:::\n\n::: {.column width=\"50%\"}\n\n::: {.cell}\n\n```{.r .cell-code}\n# library(dplyr) not needed\n\nmtcars |>  \n  dplyr::select(mpg, cyl) \n```\n:::\n\n:::\n:::\n\n::: footer\nSlide adapted from [R/Medicine Data Cleaning 2023 Workshop](https://shannonpileggi.github.io/rmedicine-data-cleaning-2023/)\n:::\n\n## RStudio options\n\n`Tools` ‚Üí `Global Options` ‚Üí\n\n::: incremental\n-   Fussy YAML indentation:\n\n    `Code` ‚Üí `Display` ‚Üí `Indentation guides:` ‚Üí `Rainbow lines`\n\n<br>\n\n-   Match parentheses:\n\n    `Code` ‚Üí `Display` ‚Üí `Indentation guides:` ‚Üí Check `Use rainbow parentheses`\n\n<br>\n\n-   Matching divs:\n\n    `R Markdown` ‚Üí `Advanced` ‚Üí Check `Use rainbow fenced divs`\n:::\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/countdown-0.4.0/countdown.css\" rel=\"stylesheet\" />\r\n<script src=\"../site_libs/countdown-0.4.0/countdown.js\"></script>\r\n"
      ],
      "include-after-body": [
        "\r\n<script>\r\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\r\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\r\n  // slide changes (different for each slide format).\r\n  (function () {\r\n    // dispatch for htmlwidgets\r\n    function fireSlideEnter() {\r\n      const event = window.document.createEvent(\"Event\");\r\n      event.initEvent(\"slideenter\", true, true);\r\n      window.document.dispatchEvent(event);\r\n    }\r\n\r\n    function fireSlideChanged(previousSlide, currentSlide) {\r\n      fireSlideEnter();\r\n\r\n      // dispatch for shiny\r\n      if (window.jQuery) {\r\n        if (previousSlide) {\r\n          window.jQuery(previousSlide).trigger(\"hidden\");\r\n        }\r\n        if (currentSlide) {\r\n          window.jQuery(currentSlide).trigger(\"shown\");\r\n        }\r\n      }\r\n    }\r\n\r\n    // hookup for slidy\r\n    if (window.w3c_slidy) {\r\n      window.w3c_slidy.add_observer(function (slide_num) {\r\n        // slide_num starts at position 1\r\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\r\n      });\r\n    }\r\n\r\n  })();\r\n</script>\r\n\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}